{"ast":null,"code":"var _jsxFileName = \"/Users/rolibb/work/array_io/testcode/web/src/pages/home/index.js\";\nimport React, { useContext } from 'react';\nimport axios from 'axios';\nimport SessionContext from '../../shared/contexts/session';\nimport { Grid, Typography, Button } from '@material-ui/core';\nimport config from '../../config.json';\n\nconst Home = () => {\n  const {\n    setAuthenticated\n  } = useContext(SessionContext);\n\n  const handleClick = async () => {\n    try {\n      const accessToken = localStorage.getItem('accessToken');\n      const res = await axios.post(config.api_url + '/logout', null, {\n        headers: {\n          Authorization: `Bearer ${accessToken}`\n        }\n      });\n      console.log(res);\n\n      if (res.status === 204) {\n        setAuthenticated(false);\n        localStorage.clear();\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }, \"Members\")), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: handleClick,\n    variant: \"contained\",\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, \"Logout\")));\n};\n\nexport default Home;","map":{"version":3,"sources":["/Users/rolibb/work/array_io/testcode/web/src/pages/home/index.js"],"names":["React","useContext","axios","SessionContext","Grid","Typography","Button","config","Home","setAuthenticated","handleClick","accessToken","localStorage","getItem","res","post","api_url","headers","Authorization","console","log","status","clear","error"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,cAAP,MAA2B,+BAA3B;AACA,SAASC,IAAT,EAAeC,UAAf,EAA2BC,MAA3B,QAAyC,mBAAzC;AAEA,OAAOC,MAAP,MAAmB,mBAAnB;;AAEA,MAAMC,IAAI,GAAG,MAAM;AACjB,QAAM;AAAEC,IAAAA;AAAF,MAAuBR,UAAU,CAACE,cAAD,CAAvC;;AAEA,QAAMO,WAAW,GAAG,YAAY;AAC9B,QAAI;AACF,YAAMC,WAAW,GAAGC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAApB;AAEA,YAAMC,GAAG,GAAG,MAAMZ,KAAK,CAACa,IAAN,CAAWR,MAAM,CAACS,OAAP,GAAiB,SAA5B,EAAuC,IAAvC,EAA6C;AAC7DC,QAAAA,OAAO,EAAE;AAAEC,UAAAA,aAAa,EAAG,UAASP,WAAY;AAAvC;AADoD,OAA7C,CAAlB;AAIAQ,MAAAA,OAAO,CAACC,GAAR,CAAYN,GAAZ;;AAEA,UAAIA,GAAG,CAACO,MAAJ,KAAe,GAAnB,EAAwB;AACtBZ,QAAAA,gBAAgB,CAAC,KAAD,CAAhB;AACAG,QAAAA,YAAY,CAACU,KAAb;AACD;AACF,KAbD,CAaE,OAAOC,KAAP,EAAc;AACdJ,MAAAA,OAAO,CAACI,KAAR,CAAcA,KAAd;AACD;AACF,GAjBD;;AAmBA,sBACE,oBAAC,IAAD;AAAM,IAAA,SAAS,MAAf;AAAgB,IAAA,OAAO,EAAE,CAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,CADF,eAIE,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAEb,WAAjB;AAA8B,IAAA,OAAO,EAAC,WAAtC;AAAkD,IAAA,KAAK,EAAC,SAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,CAJF,CADF;AAYD,CAlCD;;AAoCA,eAAeF,IAAf","sourcesContent":["import React, { useContext } from 'react';\nimport axios from 'axios';\nimport SessionContext from '../../shared/contexts/session';\nimport { Grid, Typography, Button } from '@material-ui/core';\n\nimport config from '../../config.json';\n\nconst Home = () => {\n  const { setAuthenticated } = useContext(SessionContext);\n\n  const handleClick = async () => {\n    try {\n      const accessToken = localStorage.getItem('accessToken');\n\n      const res = await axios.post(config.api_url + '/logout', null, {\n        headers: { Authorization: `Bearer ${accessToken}` },\n      });\n\n      console.log(res);\n\n      if (res.status === 204) {\n        setAuthenticated(false);\n        localStorage.clear();\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return (\n    <Grid container spacing={3}>\n      <Grid item xs={12}>\n        <Typography>Members</Typography>\n      </Grid>\n      <Grid item xs={12}>\n        <Button onClick={handleClick} variant=\"contained\" color=\"primary\">\n          Logout\n        </Button>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}